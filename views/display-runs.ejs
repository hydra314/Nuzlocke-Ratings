<% include partials/header.ejs %>
    <div class="table-wrapper">
        <% if(runs.length > 0){ %>
            <table class="table table-hover table-dark table-striped" id="display-runs-table">
                <thead class="thead-info">
                    <tr>
                        <th scope="col" onclick="sortTable(0, 'display-runs-table')" class="sortable">#</th>
                        <th scope="col" onclick="sortTable(1, 'display-runs-table')" class="sortable">Run Name</th>
                        <th scope="col" onclick="sortTable(2, 'display-runs-table')" class="sortable">Game</th>
                        <th scope="col" onclick="sortTable(3, 'display-runs-table')" class="sortable">Rating</th>
                        <th scope="col">Link</th>
                        <th scope="col">Team</th>
                        <th scope="col">Ruleset</th>
                    </tr>
                </thead>
                <tbody>
                    <% for(var i = 0; i < runs.length; i++){ %>
                        <tr>
                            <td><%= i + 1 %></td>
                            <td><%= runs[i].run_name %></td>
                            <td>Pokemon <%= runs[i].basegame_name %></td>
                            <td><%= runs[i].rating %></td>
                            <td><a href="<%= runs[i].link %>" target="_blank">Link to run</a></td>
                            <td>
                                <ul class="list-unstyled split">
                                    <% for(var j = 0; j < runs[i].party.length; j++){ %>
                                    <li><%= runs[i].party[j].name %></li>
                                    <% } %>
                                </ul>
                            </td>
                            <td>
                                <ol>
                                    <% for(j = 0; j < runs[i].ruleset.length; j++){ %>
                                    <li><%= runs[i].ruleset[j].name %></li>
                                    <% } %>
                                </ol>
                            </td>
                        </tr>
                    <% } %>
                </tbody>
            </table>
        <% } else { %>
            <p class="text-center">No runs found. Click <a href="/add-run">here</a> to add a run!</p>
        <% } %>
    </div>
</div>
</body>
</html>